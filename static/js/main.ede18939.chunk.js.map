{"version":3,"sources":["components/Home/styles.module.css","components/LoginPage/styles.module.css","components/NavBar/styles.module.css","assets/wealthsimple-pink.png","redux/reducers.js","redux/selectors.js","components/Home/index.jsx","redux/axiosHelpers.js","components/LoginPage/index.jsx","components/NavBar/index.jsx","components/Dashboard/index.jsx","components/App/index.jsx","redux/actions.js","index.js"],"names":["module","exports","dividendApp","combineReducers","dividends","state","action","type","getTotalDividends","getDividends","reduce","accum","currVal","market_value","amount","Home","props","className","styles","homePageWrapper","white","pink","image","src","Logo","alt","axiosBaseURL","LoginPage","login","e","preventDefault","axios","post","loginInfo","then","res","tokens","data","setAuthentication","sessionStorage","setItem","access","refresh","error","alert","password","setState","handleChange","name","target","value","email","this","isAuthenticated","to","fullPage","loginForm","onSubmit","formContent","placeholder","onChange","submitWrapper","React","Component","NavBar","navBar","navBarWrapper","logo","navBarLinkWrapper","Dashboard","totalDividends","filter","activity","object","total","dividend","App","isLoaded","getItem","accessToken","refreshToken","basename","path","connect","dispatch","setDividendsInStore","setDividends","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ede18939.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"homePageWrapper\":\"styles_homePageWrapper__1fsE1\",\"white\":\"styles_white__20Y93\",\"pink\":\"styles_pink__2IF0a\",\"image\":\"styles_image__2Wmaw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullPage\":\"styles_fullPage__2OXOy\",\"loginForm\":\"styles_loginForm__Ib4R2\",\"formContent\":\"styles_formContent__1KWL2\",\"submitWrapper\":\"styles_submitWrapper__19puO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBar\":\"styles_navBar__3iC_i\",\"navBarWrapper\":\"styles_navBarWrapper__2P72d\",\"logo\":\"styles_logo__KwPl6\",\"navBarLinkWrapper\":\"styles_navBarLinkWrapper__2JXNY\"};","module.exports = __webpack_public_path__ + \"static/media/wealthsimple-pink.0c226a4a.png\";","import { combineReducers } from 'redux';\r\n\r\nexport const SET_DIVIDENDS = 'SET_DIVIDENDS';\r\n\r\n\r\nfunction dividends(state = [], action) {\r\n  switch (action.type) {\r\n    case SET_DIVIDENDS:\r\n      return action.dividends;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst dividendApp = combineReducers({\r\n  dividends,\r\n});\r\n\r\nexport default dividendApp;\r\n","export const getDividends = state => state.dividends;\r\n\r\nexport const getTotalDividends = state => getDividends(state)\r\n  .reduce((accum, currVal) => (accum + currVal.market_value.amount), 0)","import React from 'react';\r\nimport styles from './styles.module.css';\r\nimport Logo from '../../assets/wealthsimple-pink.png';\r\n\r\nexport default function Home(props) {\r\n  return (\r\n    <div className={styles.homePageWrapper}>\r\n      <div className={styles.white}>\r\n        <h1>\r\n          Dividend Growth Investing Made Easy\r\n        </h1>\r\n      </div>\r\n      <div className={styles.pink}>\r\n        <p>\r\n          Get detailed analytics tracking your dividends across all Wealthsimple Trade accounts.\r\n        </p>\r\n        <p>\r\n          Wealthsimple Trade is a mobile app that provides commission free trading to its users for Canadian stocks.\r\n          For dividend growth investors that want to make every percentage point count, this application provides\r\n          the simplest way to track dividends accurately. \r\n        </p>    \r\n        <p>\r\n          Forget using spreadsheets to manually track your dividends. Log in using your Wealthsimple credentials, \r\n          select what account/accounts you would like to see analytics for, and watch your passive income grow.\r\n        </p>\r\n      </div>\r\n      <div className={styles.image}>\r\n        <img src={Logo} alt=\"Charts\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const axiosBaseURL = (\r\n  !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\r\n    ? 'http://localhost:5000'\r\n    : 'https://wealthsimple-trade-dividends.herokuapp.com'\r\n);\r\n\r\n","import React from 'react';\r\nimport styles from './styles.module.css';\r\nimport axios from 'axios'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { axiosBaseURL } from '../../redux/axiosHelpers';\r\n\r\nexport default class LoginPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loginInfo: {\r\n        email: '',\r\n        password: '',\r\n      },\r\n    };\r\n  }\r\n\r\n  login = (e) => {\r\n    e.preventDefault();\r\n    axios.post(`${axiosBaseURL}/api/v1/login`, this.state.loginInfo)\r\n    .then(res => {\r\n      const tokens = res.data;\r\n      this.props.setAuthentication(tokens);\r\n      sessionStorage.setItem('isAuthenticated', 'true');\r\n      sessionStorage.setItem('accessToken', tokens.access);\r\n      sessionStorage.setItem('refreshToken', tokens.refresh);\r\n    }, (error) => {\r\n      alert('Login unsuccessful');\r\n      const loginInfo = this.state.loginInfo;\r\n      loginInfo.password = '';\r\n      this.setState({\r\n        loginInfo: loginInfo,\r\n      });\r\n    });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    const loginInfo = this.state.loginInfo;\r\n    loginInfo[name] = value;\r\n    this.setState({\r\n      loginInfo: loginInfo\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.isAuthenticated) {\r\n      return (\r\n        <div className={styles.fullPage}>\r\n          <h1>Log In</h1>\r\n          <p>Please use your Wealthsimple Trade credentials.</p>\r\n          <form className={styles.loginForm} onSubmit={this.login}>\r\n            <div className={styles.formContent}>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Email address\"\r\n                value={this.state.loginInfo.email}\r\n                onChange={this.handleChange}\r\n              />\r\n              <br />\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                value={this.state.loginInfo.password}\r\n                onChange={this.handleChange}\r\n              />\r\n              <div className={styles.submitWrapper}>\r\n                <input type=\"submit\" value=\"Sign In\" />\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n    return <Redirect to='/dashboard' />;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Logo from '../../assets/wealthsimple-pink.png';\r\nimport styles from './styles.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function NavBar(props) {\r\n  return (\r\n      <nav className={styles.navBar}>\r\n        <div className={styles.navBarWrapper}>\r\n          <span>\r\n            <Link to=\"/\">\r\n              <img \r\n                className={styles.logo} \r\n                src={Logo} \r\n                alt=\"Wealthsimple Pink Logo\" \r\n              />\r\n            </Link>\r\n          </span>\r\n          <div className={styles.navBarLinkWrapper}>\r\n            <Link to=\"/login\">\r\n              <span>\r\n                Log In\r\n              </span>\r\n            </Link>\r\n            &nbsp;|&nbsp;\r\n            <Link to=\"/about\">\r\n              <span>\r\n                About\r\n              </span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n  );\r\n}","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { axiosBaseURL } from '../../redux/axiosHelpers';\r\n\r\nexport default class Dashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      totalDividends: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.isAuthenticated) {\r\n      axios.post(`${axiosBaseURL}/api/v1/dividends`, this.props.tokens)\r\n      .then((res) => {\r\n        const activities = res.data.dividends;\r\n        const justDividends = activities.filter((activity) => (\r\n          activity.object === 'dividend'\r\n        ));\r\n        const totalDividends = justDividends.reduce((total, dividend) => (\r\n          total + dividend.market_value.amount\r\n        ), 0);\r\n        this.setState({\r\n          totalDividends: totalDividends,\r\n        })\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.props.isAuthenticated ? (\r\n        <div>\r\n          You're authenticated. You have ${this.state.totalDividends} of total dividends.\r\n        </div>\r\n      ) : (\r\n        <Redirect to='/login' />\r\n      )\r\n    );\r\n  }\r\n\r\n}\r\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { setDividends } from '../../redux/actions';\nimport { getTotalDividends } from '../../redux/selectors';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom';\nimport Home from '../Home/index';\nimport './index.css';\nimport LoginPage from '../LoginPage/index';\nimport NavBar from '../NavBar/index';\nimport Dashboard from '../Dashboard/index';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false,\n      isAuthenticated: false,\n      tokens: {\n        access: '',\n        refresh: '',\n      }\n    }\n  }\n\n  componentDidMount() {\n    const isAuthenticated = sessionStorage.getItem('isAuthenticated') === 'true';\n    const accessToken = sessionStorage.getItem('accessToken');\n    const refreshToken = sessionStorage.getItem('refreshToken');\n    if (isAuthenticated && accessToken && refreshToken) {\n      this.setState({\n        isAuthenticated: isAuthenticated,\n        tokens: {\n          access: accessToken,\n          refresh: refreshToken,\n        }\n      });\n    }\n    this.setState({ isLoaded: true });\n  }\n\n  setAuthentication = (tokens) => {\n    this.setState({\n      isAuthenticated: true,\n      tokens: tokens,\n    });\n  }\n\n  render() {\n    return (\n      <Router basename=\"/dividend-tracker-ui\">\n        <NavBar />\n        <Switch>\n          <Route path=\"/login\">\n            <LoginPage\n              isAuthenticated={this.state.isAuthenticated}\n              setAuthentication={this.setAuthentication}\n            />\n          </Route>\n          <Route path=\"/dashboard\">\n            <Dashboard\n              isAuthenticated={this.state.isAuthenticated}\n              tokens={this.state.tokens}\n            />\n          </Route>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  totalDividends: getTotalDividends(state),\n});\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    setDividendsInStore: dividends => {\n      dispatch(setDividends(dividends));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(App);\n","import {SET_DIVIDENDS} from './reducers';\r\n\r\nexport function setDividends(dividends) {\r\n  return { type: SET_DIVIDENDS, dividends};\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/index';\nimport { createStore } from 'redux';\nimport dividendApp from './redux/reducers';\nimport { Provider } from 'react-redux';\n\nconst store = createStore(\n  dividendApp, \n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <React.StrictMode>\n  <Provider store={store}>\n    <App />\n  </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}