{"version":3,"sources":["redux/reducers.js","redux/selectors.js","components/Home/index.jsx","redux/axiosHelpers.js","components/LoginPage/index.jsx","components/NavBar/index.jsx","components/Dashboard/DashboardCard/index.jsx","components/Dashboard/DashboardTable/index.jsx","components/Dashboard/index.jsx","components/Logout/index.jsx","components/App/index.jsx","redux/actions.js","index.js","components/NavBar/styles.module.css","components/LoginPage/styles.module.css","components/Dashboard/styles.module.css","components/Home/styles.module.css","assets/spinner.gif","assets/wealthsimple-pink.png","components/Dashboard/DashboardCard/styles.module.css","components/Dashboard/DashboardTable/styles.module.css"],"names":["dividendApp","combineReducers","dividends","state","action","type","getTotalDividends","getDividends","reduce","accum","currVal","market_value","amount","Home","props","isAuthenticated","to","className","styles","fullPage","title","axiosBaseURL","LoginPage","login","e","preventDefault","setState","disabled","axios","post","loginInfo","demoMode","then","res","data","tokens","userData","setAuthentication","first_name","sessionStorage","setItem","access","refresh","toString","error","showOtpField","handleChange","name","target","value","setDemoModeValue","checked","disableInput","email","password","otp","this","loginForm","onSubmit","formContent","placeholder","onChange","Fragment","submitWrapper","src","Spinner","alt","React","Component","NavBar","navBar","navBarWrapper","logo","Logo","navBarLinkWrapper","activeClassName","active","exact","DashboardCard","dashboardCard","label","DashboardTable","sortDividends","key","sortBy","cmpFunc","a","b","sort","rowItems","map","dividend","id","process_date","symbol","toFixed","tableWrapper","Dashboard","resizeDashboardGraph","width","window","innerWidth","viewPort","height","innerHeight","projectDividend","position","ticker","stock","replace","numberOfShares","quantity","currentDividendValue","totalProjectedDividend","projectedDividend","parseDate","givenDateAsString","year","parseInt","substring","month","day","isDateWithinPastYear","givenDate","todayDate","Date","today","getFullYear","getMonth","getDate","getDividendIncome","activities","dividendsWithinPastYear","filter","activity","object","sumDividends","total","crunchDividends","sendHistoryRequest","account","accountID","results","currentEquityValue","length","equity_value","totalEquityValue","dividendGraphData","forEach","Object","keys","date","parsedDate","x","getTime","y","push","changeSortBy","allActivities","addEventListener","removeEventListener","estimatedYield","dashboardWrapper","userName","dashboardCards","dividendGraph","xType","margin","bottom","animation","duration","tickLabelAngle","color","sortingAndFiltering","Logout","logout","App","firstName","clear","isLoaded","getItem","accessToken","refreshToken","basename","path","connect","totalDividends","dispatch","setDividendsInStore","setDividends","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.7292d1a9.chunk.js","sourcesContent":["import { combineReducers } from 'redux';\r\n\r\nexport const SET_DIVIDENDS = 'SET_DIVIDENDS';\r\n\r\n\r\nfunction dividends(state = [], action) {\r\n  switch (action.type) {\r\n    case SET_DIVIDENDS:\r\n      return action.dividends;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst dividendApp = combineReducers({\r\n  dividends,\r\n});\r\n\r\nexport default dividendApp;\r\n","export const getDividends = state => state.dividends;\r\n\r\nexport const getTotalDividends = state => getDividends(state)\r\n  .reduce((accum, currVal) => (accum + currVal.market_value.amount), 0)","import React from 'react';\r\nimport styles from './styles.module.css';\r\nimport { Redirect, Link } from 'react-router-dom';\r\n\r\nexport default function Home(props) {\r\n  return !props.isAuthenticated\r\n    ? (\r\n      <div className={styles.fullPage}>\r\n        <div className={styles.title}>\r\n          <h1>\r\n            A Wealthsimple Trade Dividend Tracker\r\n          </h1>\r\n          <p>\r\n            Keep scrolling for more details\r\n          </p>\r\n        </div>\r\n        <div className={styles.fullPage}>\r\n          <h2>\r\n            Tired of using a spreadsheet to track your portfolio?\r\n          </h2>\r\n          <p>\r\n            If you've ever tried making a spreadsheet to track your portfolio and its dividends\r\n            using Google Sheets or Excel, you're probably aware it can be unmaintainable and unreliable.\r\n          </p>\r\n          <p>\r\n            Wealthsimple Trade users are often attracted to the platform for the\r\n            $0 commission on trades, and the user-friendly interface. Users are\r\n            willing to accept that the analytics provided by the platform (particularly\r\n            for dividend growth investors) are lacking.\r\n          </p>\r\n          <p>\r\n            Now you can have the best of both worlds! Buy and sell with Wealthsimple Trade, and use this tracker\r\n            for complete and automatic analytics.\r\n          </p>\r\n          <Link to=\"/login\">\r\n            Stop Using Spreadsheets Now\r\n          </Link>\r\n          <h2>\r\n            An automatic dividend tracker\r\n          </h2>\r\n          <p>\r\n            By logging in with your Wealthsimple credentials you will have access to automatic dividend tracking\r\n            on all your holdings. You will have access to metrics such as dividend income over time, estimated\r\n            dividend yield for your entire portfolio, and for each individual holding.\r\n          </p>\r\n          <p>\r\n            In addition to dividend analytics, this tracker provides annual analytics tracking your portfolios\r\n            average interest year over year, so you can be sure that your investments are performing as expected.\r\n          </p>\r\n          <Link to=\"/login\">\r\n            Start Tracking Now\r\n          </Link>\r\n          <h2>\r\n            Fully mobile and desktop compatible\r\n          </h2>\r\n          <p>\r\n            Besides the lack of dividend analytics, one of the few drawbacks of Wealthsimple Trade is its lack of desktop\r\n            compatibility. This application is fully available through any web browser, and is fully responsive for a\r\n            fluid mobile and desktop experience.\r\n          </p>\r\n          <p>\r\n            If you were so inclined, this dividend tracker could serve a your one stop shop for portfolio tracking.\r\n          </p>\r\n          <Link to=\"/login\">\r\n            Log In\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <Redirect to='/dashboard' />\r\n    )\r\n}\r\n","export const axiosBaseURL = (\r\n  !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\r\n    ? 'http://localhost:5000'\r\n    : 'https://wealthsimple-trade-dividends.herokuapp.com'\r\n);\r\n\r\n","import React from 'react';\r\nimport styles from './styles.module.css';\r\nimport axios from 'axios'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { axiosBaseURL } from '../../redux/axiosHelpers';\r\nimport Spinner from '../../assets/spinner.gif';\r\n\r\nexport default class LoginPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loginInfo: {\r\n        email: '',\r\n        password: '',\r\n        otp: '',\r\n      },\r\n      disabled: false,\r\n      showOtpField: false,\r\n    };\r\n  }\r\n\r\n  login = (e) => {\r\n    e.preventDefault();\r\n    this.setState({ disabled: true });\r\n    axios.post(`${axiosBaseURL}/api/v1/login`, {\r\n      ...this.state.loginInfo,\r\n      demoMode: this.props.demoMode,\r\n    })\r\n    .then(res => {\r\n      const { tokens, userData } = res.data;\r\n      this.props.setAuthentication({ ...tokens, demoMode: this.props.demoMode }, userData.first_name);\r\n      sessionStorage.setItem('isAuthenticated', 'true');\r\n      sessionStorage.setItem('accessToken', tokens.access);\r\n      sessionStorage.setItem('refreshToken', tokens.refresh);\r\n      sessionStorage.setItem('firstName', userData.first_name);\r\n      sessionStorage.setItem('demoMode', this.props.demoMode.toString());\r\n    }, (error) => {\r\n      const loginInfo = this.state.loginInfo;\r\n      this.setState({\r\n        loginInfo: loginInfo,\r\n        disabled: false,\r\n        showOtpField: true,\r\n      });\r\n    });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    const loginInfo = this.state.loginInfo;\r\n    if (name === 'demoMode') this.props.setDemoModeValue(e.target.checked);\r\n    else loginInfo[name] = value;\r\n    this.setState({\r\n      loginInfo: loginInfo\r\n    });\r\n  }\r\n\r\n  disableInput = () => this.state.disabled || this.props.demoMode ? styles.disabled : '';\r\n\r\n  render() {\r\n    if (!this.props.isAuthenticated) {\r\n      return (\r\n        <div className={styles.fullPage}>\r\n          <h1>Log In</h1>\r\n          <p>Please use your Wealthsimple Trade credentials.</p>\r\n          <form className={styles.loginForm} onSubmit={this.login}>\r\n            <div className={styles.formContent}>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Email address\"\r\n                value={this.state.loginInfo.email}\r\n                onChange={this.handleChange}\r\n                disabled={this.state.disabled || this.props.demoMode}\r\n                className={this.disableInput()}\r\n              />\r\n              <br />\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                value={this.state.loginInfo.password}\r\n                onChange={this.handleChange}\r\n                disabled={this.state.disabled || this.props.demoMode}\r\n                className={this.disableInput()}\r\n              />\r\n              {\r\n                this.state.showOtpField && (\r\n                  <React.Fragment>\r\n                    <br />\r\n                    <p>\r\n                      Check your email for your one time password.\r\n                    </p>\r\n                    <input\r\n                      type=\"password\"\r\n                      name=\"otp\"\r\n                      placeholder=\"One time password\"\r\n                      value={this.state.loginInfo.otp}\r\n                      onChange={this.handleChange}\r\n                      disabled={this.state.disabled || this.props.demoMode}\r\n                      className={this.disableInput()}\r\n                    />\r\n                  </React.Fragment>\r\n                )\r\n              }\r\n              <p>Don't have a WS Trade account?</p>\r\n              <p>Check this box and click <b>Sign In</b> to view the site in demo mode</p>\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"demoMode\"\r\n                onChange={this.handleChange}\r\n              />\r\n              <div className={styles.submitWrapper}>\r\n                {\r\n                  this.state.disabled\r\n                  ? (\r\n                    <img src={Spinner} alt=\"A loading spinner.\" />\r\n                  ) : (\r\n                    <input\r\n                      type=\"submit\"\r\n                      value=\"Sign In\"\r\n                      disabled={this.state.disabled}\r\n                    />\r\n                  )\r\n                }\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n    return <Redirect to='/dashboard' />;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Logo from '../../assets/wealthsimple-pink.png';\r\nimport styles from './styles.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport default function NavBar(props) {\r\n  return (\r\n      <nav className={styles.navBar}>\r\n        <div className={styles.navBarWrapper}>\r\n          <span>\r\n            <NavLink to=\"/\">\r\n              <img\r\n                className={styles.logo}\r\n                src={Logo}\r\n                alt=\"Wealthsimple Pink Logo\"\r\n              />\r\n            </NavLink>\r\n          </span>\r\n          <div className={styles.navBarLinkWrapper}>\r\n            {\r\n              props.isAuthenticated\r\n                ? (\r\n                  <React.Fragment>\r\n                    <NavLink\r\n                      to=\"/dashboard\"\r\n                      activeClassName={styles.active}\r\n                    >\r\n                      <span>\r\n                        Dashboard\r\n                      </span>\r\n                    </NavLink>\r\n                    &nbsp;|&nbsp;\r\n                    <NavLink\r\n                      to=\"/logout\"\r\n                      activeClassName={styles.active}\r\n                    >\r\n                      <span>\r\n                        Logout\r\n                      </span>\r\n                    </NavLink>\r\n                  </React.Fragment>\r\n                ) : (\r\n                  <React.Fragment>\r\n                    <NavLink\r\n                      exact to=\"/\"\r\n                      activeClassName={styles.active}\r\n                    >\r\n                      <span>\r\n                        Home\r\n                      </span>\r\n                    </NavLink>\r\n                    &nbsp;|&nbsp;\r\n                    <NavLink\r\n                      to=\"/login\"\r\n                      activeClassName={styles.active}\r\n                    >\r\n                      <span>\r\n                        Log In\r\n                      </span>\r\n                    </NavLink>\r\n                  </React.Fragment>\r\n                )\r\n            }\r\n          </div>\r\n        </div>\r\n      </nav>\r\n  );\r\n}","import React from 'react';\r\nimport styles from './styles.module.css';\r\n\r\nexport default function DashboardCard(props) {\r\n  return (\r\n    <div className={styles.dashboardCard}>\r\n      <h1>\r\n        {props.label}\r\n      </h1>\r\n      <p>\r\n        {props.value}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './styles.module.css';\r\n\r\nexport default class DashboardTable extends React.Component {\r\n  sortDividends = () => {\r\n    const sortingToKeyMap = {\r\n      'date': ['process_date', false],\r\n      'date-reverse': ['process_date', true],\r\n      'security': ['symbol', false],\r\n      'security-reverse': ['symbol', true],\r\n      'dividend': ['market_value.amount', false],\r\n      'dividend-reverse': ['market_value.amount', true],\r\n    };\r\n\r\n    const key = sortingToKeyMap[this.props.sortBy];\r\n\r\n    const compareFunction = (a, b) => {\r\n      if (key[0] !== 'market_value.amount') {\r\n        if (a[key[0]] === b[key[0]]) return 0;\r\n        if (a[key[0]] > b[key[0]]) return 1;\r\n        return -1;\r\n      }\r\n      if (a.market_value.amount === b.market_value.amount) return 0;\r\n      if (a.market_value.amount > b.market_value.amount) return 1;\r\n      return -1;\r\n    }\r\n\r\n    const compareFunctionReverse = (a, b) => {\r\n      if (key[0] !== 'market_value.amount') {\r\n        if (a[key[0]] === b[key[0]]) return 0;\r\n        if (a[key[0]] < b[key[0]]) return 1;\r\n        return -1;\r\n      }\r\n      if (a.market_value.amount === b.market_value.amount) return 0;\r\n      if (a.market_value.amount < b.market_value.amount) return 1;\r\n      return -1;\r\n    }\r\n\r\n    const cmpFunc = key[1] ? compareFunction : compareFunctionReverse;\r\n    const dividends = this.props.dividends;\r\n    dividends.sort(cmpFunc);\r\n    return dividends;\r\n  }\r\n\r\n  render () {\r\n    const sortedDividends = this.sortDividends();\r\n    const rowItems = sortedDividends.map((dividend) => (\r\n      <tr key={dividend.id}>\r\n        <td>{dividend.process_date}</td>\r\n        <td>{dividend.symbol}</td>\r\n        <td>{`$${dividend.market_value.amount.toFixed(2)}`}</td>\r\n      </tr>\r\n    ));\r\n    return (\r\n      <div className={styles.tableWrapper}>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>\r\n                Date\r\n              </th>\r\n              <th>\r\n                Security\r\n              </th>\r\n              <th>\r\n                Dividend\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rowItems}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { axiosBaseURL } from '../../redux/axiosHelpers';\r\nimport DashboardCard from './DashboardCard/index';\r\nimport styles from './styles.module.css';\r\nimport {\r\n  XYPlot,\r\n  XAxis,\r\n  YAxis,\r\n  HorizontalGridLines,\r\n  VerticalBarSeries,\r\n} from 'react-vis';\r\nimport DashboardTable from './DashboardTable/index';\r\n\r\nexport default class Dashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      allActivities: [],\r\n      dividendsWithinPastYear: 0,\r\n      totalEquityValue: 0,\r\n      projectedDividend: 0,\r\n      dividends: [],\r\n      viewPort: {\r\n        height: 200,\r\n        width: 200,\r\n      },\r\n      sortBy: 'date',\r\n      crunchDividends: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.isAuthenticated) {\r\n      axios.post(`${axiosBaseURL}/api/v1/activities`, this.props.tokens)\r\n      .then((res) => {\r\n        const activities = res.data.activities;\r\n        this.setState({\r\n          allActivities: activities,\r\n          dividendsWithinPastYear: this.getDividendIncome(activities),\r\n        })\r\n      });\r\n\r\n      axios.post(`${axiosBaseURL}/api/v1/accounts`, this.props.tokens)\r\n      .then((res) => {\r\n        const accounts = res.data.results;\r\n        accounts.forEach(this.sendHistoryRequest);\r\n      });\r\n\r\n      axios.post(`${axiosBaseURL}/api/v1/positions`, this.props.tokens)\r\n      .then(res => {\r\n        const positions = res.data.results;\r\n        positions.forEach(this.projectDividend)\r\n      });\r\n\r\n      window.addEventListener('resize', this.resizeDashboardGraph);\r\n      this.resizeDashboardGraph();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.resizeDashboardGraph);\r\n  }\r\n\r\n  resizeDashboardGraph = () => {\r\n    const width = window.innerWidth > 1300 ? 1300 : window.innerWidth;\r\n    const height = window.innerHeight > 1.5 * width ? 1.5 * width\r\n      : window.innerHeight;\r\n    const viewPort = {\r\n      height: height - 100,\r\n      width: width - 100,\r\n    };\r\n    this.setState({ viewPort });\r\n  }\r\n\r\n  projectDividend = (position) => {\r\n    const ticker = position.stock.symbol.replace('.', '-');\r\n    const numberOfShares = position.quantity;\r\n    axios.post(`${axiosBaseURL}/api/v1/yield`, { ticker, demoMode: this.props.tokens.demoMode })\r\n    .then(res => {\r\n      const currentDividendValue = res.data.dividend * numberOfShares;\r\n      const totalProjectedDividend = this.state.projectedDividend;\r\n      this.setState({\r\n        projectedDividend: currentDividendValue + totalProjectedDividend,\r\n      });\r\n    });\r\n  }\r\n\r\n  parseDate = (givenDateAsString) => {\r\n    const year = parseInt(givenDateAsString.substring(0, 4));\r\n    const month = parseInt(givenDateAsString.substring(5, 7));\r\n    const day = parseInt(givenDateAsString.substring(8, 10));\r\n    return {\r\n      day,\r\n      month,\r\n      year,\r\n    };\r\n  }\r\n\r\n  isDateWithinPastYear = (givenDate) => {\r\n    const todayDate = new Date();\r\n    const today = {\r\n      year: todayDate.getFullYear(),\r\n      month: todayDate.getMonth() + 1,\r\n      day: todayDate.getDate(),\r\n    };\r\n    if (today.year > givenDate.year) return true;\r\n    if (today.year === givenDate.year) {\r\n      if (today.month > givenDate.month) return true;\r\n      if (today.month === givenDate.month) {\r\n        if (today.day >= givenDate.day) return true;\r\n      }\r\n    }\r\n    return false\r\n  };\r\n\r\n  getDividendIncome = (activities) => {\r\n    const dividendsWithinPastYear = activities.filter((activity) => (\r\n      activity.object === 'dividend'\r\n        && this.isDateWithinPastYear(this.parseDate(activity.process_date))\r\n    ));\r\n    const sumDividends = dividendsWithinPastYear.reduce((total, dividend) => (\r\n      total + dividend.market_value.amount\r\n    ), 0);\r\n\r\n    this.setState({\r\n      dividends: dividendsWithinPastYear,\r\n      crunchDividends: this.crunchDividends(dividendsWithinPastYear),\r\n    });\r\n    return sumDividends;\r\n  }\r\n\r\n  sendHistoryRequest = (account) => {\r\n    axios.post(`${axiosBaseURL}/api/v1/history`, {\r\n      tokens: this.props.tokens,\r\n      accountID: account.id,\r\n    }).then((res) => {\r\n      const results = res.data.results;\r\n      const currentEquityValue = results[results.length - 1].equity_value.amount;\r\n      const totalEquityValue = this.state.totalEquityValue;\r\n      this.setState({\r\n        totalEquityValue: currentEquityValue + totalEquityValue,\r\n      });\r\n    });\r\n  }\r\n\r\n  crunchDividends = (dividends) => {\r\n    let dividendGraphData = {};\r\n    dividends.forEach((dividend) => {\r\n      if (dividendGraphData[dividend.process_date]) {\r\n        dividendGraphData[dividend.process_date] = dividendGraphData[dividend.process_date] + dividend.market_value.amount;\r\n      } else {\r\n        dividendGraphData[dividend.process_date] = dividend.market_value.amount;\r\n      }\r\n    });\r\n    let data = [];\r\n    Object.keys(dividendGraphData).forEach((date) => {\r\n      const parsedDate = this.parseDate(date);\r\n      const x = new Date(parsedDate.year, parsedDate.month - 1, parsedDate.day).getTime();\r\n      const y = dividendGraphData[date];\r\n      data.push({ x, y });\r\n    });\r\n\r\n    return data;\r\n  }\r\n\r\n  changeSortBy = (e) => {\r\n    this.setState({ sortBy: e.target.value });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      dividendsWithinPastYear,\r\n      projectedDividend,\r\n      totalEquityValue,\r\n      crunchDividends,\r\n    } = this.state\r\n    const estimatedYield = (projectedDividend / totalEquityValue) * 100;\r\n\r\n\r\n    return (\r\n      this.props.isAuthenticated ? (\r\n        <div>\r\n          <div className={styles.dashboardWrapper}>\r\n            <h1>\r\n              Welcome, {this.props.userName}\r\n            </h1>\r\n            <div className={styles.dashboardCards}>\r\n              <DashboardCard\r\n                label=\"Dividend Income in the Past Year\"\r\n                value={`$${dividendsWithinPastYear.toFixed(2)}`}\r\n              />\r\n              <DashboardCard\r\n                label=\"Estimated Current Yearly Dividend Income\"\r\n                value={`$${projectedDividend.toFixed(2)}`}\r\n              />\r\n              <DashboardCard\r\n                label=\"Estimated Current Dividend Yield\"\r\n                value={`${estimatedYield.toFixed(2)}%`}\r\n              />\r\n            </div>\r\n            <h1>\r\n              Your payouts over the last year\r\n            </h1>\r\n            <div className={styles.dividendGraph}>\r\n              <XYPlot\r\n                xType=\"time\"\r\n                width={this.state.viewPort.width}\r\n                height={this.state.viewPort.height}\r\n                margin={{bottom: 75}}\r\n                animation={{duration: 1000}}\r\n              >\r\n                <HorizontalGridLines />\r\n                <XAxis\r\n                  tickLabelAngle={-60}\r\n                  title=\"Date\"\r\n                />\r\n                <YAxis\r\n                  title=\"Dividend Amount\"\r\n                />\r\n                <VerticalBarSeries\r\n                  data={crunchDividends}\r\n                  color='#cf698e'\r\n                  animation={{duration: 1000}}\r\n                />\r\n              </XYPlot>\r\n            </div>\r\n            <div>\r\n              <div className={styles.sortingAndFiltering}>\r\n                <label>Sort by:</label>\r\n                <select\r\n                  value={this.state.sortBy}\r\n                  onChange={this.changeSortBy}\r\n                  name=\"sorting\"\r\n                >\r\n                  <option value=\"date\">\r\n                    Date\r\n                  </option>\r\n                  <option value=\"date-reverse\">\r\n                    Date - Reverse\r\n                  </option>\r\n                  <option value=\"security-reverse\">\r\n                    Security\r\n                  </option>\r\n                  <option value=\"security\">\r\n                    Security - Reverse\r\n                  </option>\r\n                  <option value=\"dividend\">\r\n                    Dividend\r\n                  </option>\r\n                  <option value=\"dividend-reverse\">\r\n                    Dividend - Reverse\r\n                  </option>\r\n                </select>\r\n              </div>\r\n              <DashboardTable\r\n                dividends={this.state.dividends}\r\n                sortBy={this.state.sortBy}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <Redirect to='/login' />\r\n      )\r\n    );\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport default class Logout extends React.Component {\r\n  componentDidMount() {\r\n    this.props.logout();\r\n  }\r\n\r\n  render() {\r\n    return <Redirect to=\"/login\" />\r\n  }\r\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport { setDividends } from '../../redux/actions';\nimport { getTotalDividends } from '../../redux/selectors';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom';\nimport Home from '../Home/index';\nimport './index.css';\nimport LoginPage from '../LoginPage/index';\nimport NavBar from '../NavBar/index';\nimport Dashboard from '../Dashboard/index';\nimport Logout from '../Logout/index';\nimport '../../../node_modules/react-vis/dist/style.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false,\n      isAuthenticated: false,\n      tokens: {\n        access: '',\n        refresh: '',\n        demoMode: false,\n      },\n      firstName: '',\n    }\n  }\n\n  componentDidMount() {\n    const isAuthenticated = sessionStorage.getItem('isAuthenticated') === 'true';\n    const accessToken = sessionStorage.getItem('accessToken');\n    const refreshToken = sessionStorage.getItem('refreshToken');\n    const firstName = sessionStorage.getItem('firstName');\n    const demoMode = sessionStorage.getItem('demoMode');\n    if (isAuthenticated && accessToken && refreshToken && firstName) {\n      this.setState({\n        isAuthenticated,\n        tokens: {\n          access: accessToken,\n          refresh: refreshToken,\n        },\n        firstName,\n        demoMode: demoMode === 'true',\n      });\n    }\n    this.setState({ isLoaded: true });\n  }\n\n  setAuthentication = (tokens, firstName) => {\n    this.setState({\n      isAuthenticated: true,\n      tokens,\n      firstName,\n    });\n  }\n\n  logout = () => {\n    sessionStorage.clear();\n    this.setState({\n      isLoaded: false,\n      isAuthenticated: false,\n      tokens: {\n        access: '',\n        refresh: '',\n        demoMode: false,\n      },\n      firstName: '',\n    });\n  }\n\n  setDemoModeValue = (value) => {\n    let tokens = this.state.tokens;\n    tokens.demoMode = value;\n    this.setState({ tokens });\n  }\n\n  render() {\n    return (\n      <Router basename=\"/dividend-tracker-ui\">\n        <NavBar\n          isAuthenticated={this.state.isAuthenticated}\n        />\n        <Switch>\n          <Route path=\"/login\">\n            <LoginPage\n              isAuthenticated={this.state.isAuthenticated}\n              setAuthentication={this.setAuthentication}\n              setDemoModeValue={this.setDemoModeValue}\n              demoMode={this.state.tokens.demoMode}\n            />\n          </Route>\n          <Route path=\"/dashboard\">\n            <Dashboard\n              isAuthenticated={this.state.isAuthenticated}\n              tokens={this.state.tokens}\n              userName={this.state.firstName}\n            />\n          </Route>\n          <Route path=\"/logout\">\n            <Logout\n              logout={this.logout}\n            />\n          </Route>\n          <Route exact path=\"/\">\n            <Home\n              isAuthenticated={this.state.isAuthenticated}\n            />\n          </Route>\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  totalDividends: getTotalDividends(state),\n});\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    setDividendsInStore: dividends => {\n      dispatch(setDividends(dividends));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(App);\n","import {SET_DIVIDENDS} from './reducers';\r\n\r\nexport function setDividends(dividends) {\r\n  return { type: SET_DIVIDENDS, dividends};\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/index';\nimport { createStore } from 'redux';\nimport dividendApp from './redux/reducers';\nimport { Provider } from 'react-redux';\n\nconst store = createStore(\n  dividendApp, \n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <React.StrictMode>\n  <Provider store={store}>\n    <App />\n  </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBar\":\"styles_navBar__3iC_i\",\"navBarWrapper\":\"styles_navBarWrapper__2P72d\",\"logo\":\"styles_logo__KwPl6\",\"navBarLinkWrapper\":\"styles_navBarLinkWrapper__2JXNY\",\"active\":\"styles_active__1XeWd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullPage\":\"styles_fullPage__2OXOy\",\"loginForm\":\"styles_loginForm__Ib4R2\",\"formContent\":\"styles_formContent__1KWL2\",\"submitWrapper\":\"styles_submitWrapper__19puO\",\"disabled\":\"styles_disabled__IyZGU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboardCards\":\"styles_dashboardCards__3Xhnm\",\"dashboardWrapper\":\"styles_dashboardWrapper__d1KFN\",\"dividendGraph\":\"styles_dividendGraph__2OUCG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullPage\":\"styles_fullPage__39EEN\",\"title\":\"styles_title__1IvRM\",\"homePageWrapper\":\"styles_homePageWrapper__1fsE1\",\"white\":\"styles_white__20Y93\",\"pink\":\"styles_pink__2IF0a\",\"image\":\"styles_image__2Wmaw\"};","module.exports = __webpack_public_path__ + \"static/media/spinner.a21746f5.gif\";","module.exports = __webpack_public_path__ + \"static/media/wealthsimple-pink.0c226a4a.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboardCard\":\"styles_dashboardCard__MenSt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableWrapper\":\"styles_tableWrapper__NRA3C\",\"sortingIcon\":\"styles_sortingIcon__3VL5J\"};"],"sourceRoot":""}