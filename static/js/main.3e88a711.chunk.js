(this["webpackJsonpdividend-tracker-ui"]=this["webpackJsonpdividend-tracker-ui"]||[]).push([[0],{17:function(e,t,a){e.exports={homePageWrapper:"styles_homePageWrapper__1fsE1",white:"styles_white__20Y93",pink:"styles_pink__2IF0a",image:"styles_image__2Wmaw"}},18:function(e,t,a){e.exports={fullPage:"styles_fullPage__2OXOy",loginForm:"styles_loginForm__Ib4R2",formContent:"styles_formContent__1KWL2",submitWrapper:"styles_submitWrapper__19puO"}},19:function(e,t,a){e.exports={navBar:"styles_navBar__3iC_i",navBarWrapper:"styles_navBarWrapper__2P72d",logo:"styles_logo__KwPl6",navBarLinkWrapper:"styles_navBarLinkWrapper__2JXNY"}},22:function(e,t,a){e.exports=a.p+"static/media/wealthsimple-pink.0c226a4a.png"},39:function(e,t,a){e.exports=a(67)},65:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(20),r=a.n(i),o=a(10),l=a(11),c=a(15),u=a(14),d=a(23),m=a(12);var p=Object(m.b)({dividends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DIVIDENDS":return t.dividends;default:return e}}});var h=function(e){return function(e){return e.dividends}(e).reduce((function(e,t){return e+t.market_value.amount}),0)},v=a(13),g=a.n(v),f=a(8),E=a(2),_=a(17),b=a.n(_),k=a(22),y=a.n(k);function w(e){return s.a.createElement("div",{className:b.a.homePageWrapper},s.a.createElement("div",{className:b.a.white},s.a.createElement("h1",null,"Dividend Growth Investing Made Easy")),s.a.createElement("div",{className:b.a.pink},s.a.createElement("p",null,"Get detailed analytics tracking your dividends across all Wealthsimple Trade accounts."),s.a.createElement("p",null,"Wealthsimple Trade is a mobile app that provides commission free trading to its users for Canadian stocks. For dividend growth investors that want to make every percentage point count, this application provides the simplest way to track dividends accurately."),s.a.createElement("p",null,"Forget using spreadsheets to manually track your dividends. Log in using your Wealthsimple credentials, select what account/accounts you would like to see analytics for, and watch your passive income grow.")),s.a.createElement("div",{className:b.a.image},s.a.createElement("img",{src:y.a,alt:"Charts"})))}a(65);var I=a(18),S=a.n(I),O=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).login=function(e){e.preventDefault(),g.a.post("https://wealthsimple-trade-dividends.herokuapp.com/api/v1/login",n.state.loginInfo).then((function(e){var t=e.data;n.props.setAuthentication(t),sessionStorage.setItem("isAuthenticated","true"),sessionStorage.setItem("accessToken",t.access),sessionStorage.setItem("refreshToken",t.refresh)}),(function(e){alert("Login unsuccessful");var t=n.state.loginInfo;t.password="",n.setState({loginInfo:t})}))},n.handleChange=function(e){var t=e.target.name,a=e.target.value,s=n.state.loginInfo;s[t]=a,n.setState({loginInfo:s})},n.state={loginInfo:{email:"",password:""}},n}return Object(l.a)(a,[{key:"render",value:function(){return this.props.isAuthenticated?s.a.createElement(E.a,{to:"/dashboard"}):s.a.createElement("div",{className:S.a.fullPage},s.a.createElement("h1",null,"Log In"),s.a.createElement("p",null,"Please use your Wealthsimple Trade credentials."),s.a.createElement("form",{className:S.a.loginForm,onSubmit:this.login},s.a.createElement("div",{className:S.a.formContent},s.a.createElement("input",{type:"email",name:"email",placeholder:"Email address",value:this.state.loginInfo.email,onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.loginInfo.password,onChange:this.handleChange}),s.a.createElement("div",{className:S.a.submitWrapper},s.a.createElement("input",{type:"submit",value:"Sign In"})))))}}]),a}(s.a.Component),D=a(19),N=a.n(D);function W(e){return s.a.createElement("nav",{className:N.a.navBar},s.a.createElement("div",{className:N.a.navBarWrapper},s.a.createElement("span",null,s.a.createElement(f.b,{to:"/"},s.a.createElement("img",{className:N.a.logo,src:y.a,alt:"Wealthsimple Pink Logo"}))),s.a.createElement("div",{className:N.a.navBarLinkWrapper},s.a.createElement(f.b,{to:"/login"},s.a.createElement("span",null,"Log In")),"\xa0|\xa0",s.a.createElement(f.b,{to:"/about"},s.a.createElement("span",null,"About")))))}var A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={totalDividends:0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.isAuthenticated&&g.a.post("https://wealthsimple-trade-dividends.herokuapp.com/api/v1/dividends",this.props.tokens).then((function(t){var a=t.data.dividends.filter((function(e){return"dividend"===e.object})).reduce((function(e,t){return e+t.market_value.amount}),0);e.setState({totalDividends:a})}))}},{key:"render",value:function(){return this.props.isAuthenticated?s.a.createElement("div",null,"You're authenticated. You have $",this.state.totalDividends," of total dividends."):s.a.createElement(E.a,{to:"/login"})}}]),a}(s.a.Component),j=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setAuthentication=function(e){n.setState({isAuthenticated:!0,tokens:e})},n.state={isLoaded:!1,isAuthenticated:!1,tokens:{access:"",refresh:""}},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e;e=this.props.setDividendsInStore,g.a.get("http://localhost:5000/api/v1/dividends").then((function(t){e(t.data.dividends)}));var t="true"===sessionStorage.getItem("isAuthenticated"),a=sessionStorage.getItem("accessToken"),n=sessionStorage.getItem("refreshToken");t&&a&&n&&this.setState({isAuthenticated:t,tokens:{access:a,refresh:n}}),this.setState({isLoaded:!0})}},{key:"render",value:function(){return s.a.createElement(f.a,{basename:"/dividend-tracker-ui"},s.a.createElement(W,null),s.a.createElement(E.d,null,s.a.createElement(E.b,{path:"/login"},s.a.createElement(O,{isAuthenticated:this.state.isAuthenticated,setAuthentication:this.setAuthentication})),s.a.createElement(E.b,{path:"/dashboard"},s.a.createElement(A,{isAuthenticated:this.state.isAuthenticated,tokens:this.state.tokens})),s.a.createElement(E.b,{path:"/"},s.a.createElement(w,null))))}}]),a}(s.a.Component),C=Object(d.b)((function(e){return{totalDividends:h(e)}}),(function(e){return{setDividendsInStore:function(t){e(function(e){return{type:"SET_DIVIDENDS",dividends:e}}(t))}}}))(j),L=Object(m.c)(p,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(d.a,{store:L},s.a.createElement(C,null))),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.3e88a711.chunk.js.map